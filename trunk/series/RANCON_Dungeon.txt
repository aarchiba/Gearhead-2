%% *TREASUREROOM_? CONTENT

Content
	requires <*TREASUREROOM_WRECK !Ne>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 2000
		Loot_Category <SPACE ANTIQUE PIRATE JEWELRY FOOD>
		Loot_Factions <GENERAL FCOMS RISHI MAQUI>
	end

Content
	requires <*TREASUREROOM_WRECK !Lo>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 8000
		Loot_Category <SPACE ANTIQUE PIRATE JEWELRY FOOD>
		Loot_Factions <GENERAL FCOMS RISHI MAQUI>
	end

Content
	requires <*TREASUREROOM_WRECK !Md>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 32000
		Loot_Category <SPACE ANTIQUE PIRATE JEWELRY FOOD>
		Loot_Factions <GENERAL FCOMS RISHI MAQUI>
	end

Content
	requires <*TREASUREROOM_WRECK !Hi>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 128000
		Loot_Category <SPACE ANTIQUE PIRATE JEWELRY FOOD>
		Loot_Factions <GENERAL FCOMS RISHI MAQUI>
	end

Content
	requires <*TREASUREROOM_WRECK !Ex>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 512000
		Loot_Category <SPACE ANTIQUE PIRATE JEWELRY FOOD>
		Loot_Factions <GENERAL FCOMS RISHI MAQUI>
	end

%% *DUNGEON_THREAT CONTENT
%%   Dungeon threats. Little things to make life more dangerous for hapless adventurers.

Content
	name <Big Bug>
	requires <*DUNGEON_THREAT !Ne Condemned>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <This place looks dirty.>
	inv
		Monster Giant Roach
		% Less dangerous than usual
		skill 8 2
		skill 9 2
		skill 10 1
	end

Content
	name <Roach Motel>
	requires <*DUNGEON_THREAT !Lo Condemned>
	element1 <Prefab>
	teamdata1 <sd enemy>
	element2 <Prefab>
	teamdata2 <sd enemy>
	element3 <Prefab>
	teamdata3 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <This place looks absolutely filthy.>
	inv
		Monster Giant Roach
		Monster Giant Roach
		Monster Giant Roach
	end

Content
	name <Mining Robot>
	requires <*DUNGEON_THREAT !Ne (mine|cave)>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <The walls of this level have been worked by machines.>
	inv
		Monster Mining bot
	end

Content
	name <Robot Gang>
	requires <*DUNGEON_THREAT !Lo (mine|cave)>
	element1 <Prefab>
	teamdata1 <sd enemy>
	element2 <Prefab>
	teamdata2 <sd enemy>
	element3 <Prefab>
	teamdata3 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You see many rectangular footprints in the dust on the floor.>
	inv
		Monster Mining bot
		Monster Mining bot
		Monster Guardbot
	end

Content
	name <Bad Mushroom>
	requires <*DUNGEON_THREAT !Ne SPACE>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You notice a strange blue fungus growing on the walls.>
	inv
		Monster Armored Fungus
		% This armored fungus is slightly easier than a regular one.
		Skill 10 1
		Skill 13 2
	end

Content
	name <Fungus Bomb>
	requires <*DUNGEON_THREAT !Lo SPACE>
	element1 <Prefab>
	teamdata1 <sd enemy>
	element2 <Prefab>
	teamdata2 <sd enemy>
	element3 <Prefab>
	teamdata3 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You notice some organic filaments drifting through space.>
	inv
		Monster Fungal Sphere
		Monster Fungal Sphere
		Monster Fungal Sphere
	end

Content
	name <Killer Cleanbot>
	requires <*DUNGEON_THREAT !Ne (Derelict|Industrial|Ruin)>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <This level is clean... too clean.>
	inv
		Monster Cleanbot
		name <KILLER CLEANBOT>
		Skill 8 4
		Skill 10 4
		Skill 13 4
		Skill 18 2
	end

Content
	name <Station Defense>
	requires <*DUNGEON_THREAT !Lo (Derelict|Industrial|Laboratory)>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <This level seems to be well-defended.>
	inv
		Monster Guardbot
	end

Content
	name <Vacuum Flowers>
	requires <*DUNGEON_THREAT !Lo Ruin SPACE>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You sense an alien presence here.>
	inv
		Monster Exorg Floater
	end

Content
	name <Big Rat>
	requires <*DUNGEON_THREAT !Ne GROUND>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You hear the pitter-patter of little feet.>
	inv
		Monster Plague Rat
	end

Content
	name <Mouse Nest>
	requires <*DUNGEON_THREAT !Lo GROUND>
	element1 <Prefab>
	teamdata1 <sd enemy>
	element2 <Prefab>
	teamdata2 <sd enemy>
	element3 <Prefab>
	teamdata3 <sd enemy>
	element4 <Prefab>
	teamdata4 <sd enemy>
	element5 <Prefab>
	teamdata5 <sd enemy>
	element6 <Prefab>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 5 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You hear the pitter-patter of little feet. Lots of little feet.>
	inv
		monster Rat
		monster Rat
		monster Rat
		monster Rat
		monster Death Rat
		Food 60
		name <Big Cheese>
		mass -10
		FoodMorale 2
		FoodXValue 300
		desc <A very large hunk of cheese. It hasn't been chewed on too badly.>
	end

Content
	name <Hunter-Killer>
	requires <*DUNGEON_THREAT !Md ~EARTH>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 5 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You sense something unnatural...>
	inv
		monster Hunter-Killer
	end

Content
	name <Sentinel>
	requires <*DUNGEON_THREAT (!Hi|!Ex) ~EARTH>
	element1 <Prefab>
	teamdata1 <sd enemy>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 5 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You hear the sounds of heavy machinery in the distance.>
	inv
		monster Sentinel
	end


%% *DUNGEON_REWARD CONTENT
%%   Dungeon treasure. Something that's good for everyone.

Content
	name <Old Junk 1>
	requires <*DUNGEON_REWARD !Ne Ruin>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 8000
		Loot_Category <EXOTIC ANTIQUE TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Old Junk 2>
	requires <*DUNGEON_REWARD !Lo Ruin>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 30000
		Loot_Category <EXOTIC ANTIQUE TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Old Junk 3>
	requires <*DUNGEON_REWARD !Md Ruin>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 150000
		Loot_Category <EXOTIC ANTIQUE TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Old Junk 4>
	requires <*DUNGEON_REWARD !Hi Ruin>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 750000
		Loot_Category <EXOTIC ANTIQUE TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Old Junk 5>
	requires <*DUNGEON_REWARD !Ex Ruin>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 3750000
		Loot_Category <EXOTIC ANTIQUE TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Foot Locker 1>
	requires <*DUNGEON_REWARD !Ne (Derelict|Building)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 8000
		Loot_Category <WEAPON ARMOR TOOL TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Foot Locker 2>
	requires <*DUNGEON_REWARD !Lo (Derelict|Building)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 30000
		Loot_Category <WEAPON ARMOR TOOL TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Foot Locker 3>
	requires <*DUNGEON_REWARD !Md (Derelict|Building)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 150000
		Loot_Category <WEAPON ARMOR TOOL TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Foot Locker 4>
	requires <*DUNGEON_REWARD !Hi (Derelict|Building)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 750000
		Loot_Category <WEAPON ARMOR TOOL TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Foot Locker 5>
	requires <*DUNGEON_REWARD !Ex (Derelict|Building)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 3750000
		Loot_Category <WEAPON ARMOR TOOL TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	name <Box of Jewels>
	requires <*DUNGEON_REWARD !Ne (Mine|Cave)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 8000
		Loot_Category <GEMSTONE MINERAL>
		Loot_Factions <GENERAL>
	end

Content
	name <Box of Jewels>
	requires <*DUNGEON_REWARD !Lo (Mine|Cave)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 30000
		Loot_Category <GEMSTONE MINERAL>
		Loot_Factions <GENERAL>
	end

Content
	name <Box of Jewels>
	requires <*DUNGEON_REWARD !Md (Mine|Cave)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 150000
		Loot_Category <GEMSTONE MINERAL>
		Loot_Factions <GENERAL>
	end

Content
	name <Box of Jewels>
	requires <*DUNGEON_REWARD !Hi (Mine|Cave)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 750000
		Loot_Category <GEMSTONE MINERAL>
		Loot_Factions <GENERAL>
	end

Content
	name <Box of Jewels>
	requires <*DUNGEON_REWARD !Ex (Mine|Cave)>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 3750000
		Loot_Category <GEMSTONE MINERAL>
		Loot_Factions <GENERAL>
	end

Content
	name <Emergency Spacesuit>
	requires <*DUNGEON_REWARD (Mine|derelict|ruin) Space ~!Md>
	minimap <......###..#1=..###......>
	element1 <Prefab>
	inv
		STC CHEST-1
		inv
			BodyArmor 2
			name <SkinSuit Suit>
			desc <A skintight spacesuit.>
			Mass -3
			Sealed

			ArmArmor 2
			name <SkinSuit Sleeve>
			desc <A skintight spacesuit.>
			Mass -3
			Sealed

			LegArmor 2
			name <SkinSuit Legging>
			desc <A skintight spacesuit.>
			Mass -3
			Sealed

			ArmArmor 2
			name <SkinSuit Sleeve>
			desc <A skintight spacesuit.>
			Mass -3
			Sealed

			LegArmor 2
			name <SkinSuit Legging>
			desc <A skintight spacesuit.>
			Mass -3
			Sealed

			HeadArmor 2
			name <Mining Helmet>
			desc <A light spacesuit helm with integrated rebreather and a communicator.>
			Mass -1
			Sealed
			Phone

			PowerSource 8
			name <Power Cell 200>
		end
	end

Content
	name <Mining Equipment>
	requires <*DUNGEON_REWARD Mine ~!Ne ~!Lo>
	element1 <Prefab>
	inv
		Melee 5
		Name <Pick>
		desc <A tool for digging. Also a passable weapon.>
		Mass 2
		Speed 1
	end

Content
	name <Mining Equipment 2>
	requires <*DUNGEON_REWARD Mine -!Ne ~!Md ~!Hi>
	element1 <Prefab>
	inv
		EMelee 20
		Name <Rock Drill>
		Type <BRUTAL>
		Mass 14
		Acc -1
		Speed 1
		desc <A plasma drill used in mining. It would also make a decent weapon.>
		inv
			PowerSource 4
			mass -1
			name <Power Cell 100>
		end
	end


%% *DUNGEON_DECOR CONTENT
%%   Dungeon Extras. Little bits of personality for dungeon levels, or things which aren't
%%   usable by all characters, or reward/threat combos.

Content
	name <Broken Computer>
	requires <*DUNGEON_DECOR (Derelict|Laboratory)>
	minimap <............1............>
	element1 <Prefab>
	inv
		STC COMPUTER-1
		use <Print 1>
		clue32 <Print 1>
		clue23 <if= V1 0 else GoBeenBefore V= 1 1 Print 2 GiveSTC .parts  SkillXP 23 25>
		clue29 <if= V1 0 else GoBeenBefore V= 1 1 Print 2 GiveSTC .parts  SkillXP 29 25>
		.parts <SPAREPARTS-1>
		GoBeenBefore <Print 3>
		msg1 <This old computer appears to be broken.>
		msg2 <You salvage some spare parts from this computer.>
		msg3 <There's nothing else you can do here.>
	end

Content
	name <Defense Robot (Good)>
	requires <*DUNGEON_DECOR (Ruin|Laboratory) ~!Lo ~!Md>
	minimap <......#1#..#2#..###......>
	element1 <Prefab>
	element2 <Prefab>
	Teamdata2 <sd ally>
	inv
		Door
		use <if= V1 0 else GoUsed ifYesNo 101 102 103 else GoRefuse Print 104 SetStat STAT_Pass 0  Transform 1 V= 1 1>
		GoRefuse <Print 105>
		GoUsed <Print 106>
		NPCOpenDoor < >
		Msg101 <[DEFENSE ROBOT RECHARGE STATION] Lift bar to activate defense robot.>
		Msg102 <Lift the bar.>
		Msg103 <Leave it alone.>
		Msg104 <You activate the defense robot.>
		Msg105 <You leave the defense robot in the recharge station.>
		Msg106 <You have already activated the defense robot.>

		Monster Androbot
	end

Content
	name <Defense Robot (Bad)>
	requires <*DUNGEON_DECOR (Ruin|Laboratory) -!Ne ~!Hi ~!Ex>
	minimap <......#1#..#2#..###......>
	element1 <Prefab>
	element2 <Prefab>
	Teamdata2 <sd enemy>
	inv
		Door
		use <if= V1 0 else GoUsed ifYesNo 101 102 103 else GoRefuse Print 104 SetStat STAT_Pass 0  Transform 1 V= 1 1>
		GoRefuse <Print 105>
		GoUsed <Print 106>
		NPCOpenDoor < >
		Msg101 <[DEFENSE ROBOT RECHARGE STATION] Lift bar to activate defense robot.>
		Msg102 <Lift the bar.>
		Msg103 <Leave it alone.>
		Msg104 <You activate the defense robot.>
		Msg105 <You leave the defense robot in the recharge station.>
		Msg106 <You have already activated the defense robot.>

		Monster Androbot
	end

Content
	name <Robot Team>
	requires <*DUNGEON_DECOR !Lo (mine|cave)>
	element1 <Prefab>
	teamdata1 <sd enemy>
	element2 <Prefab>
	teamdata2 <sd enemy>
	element3 <Prefab>
	inv
		Monster Mining bot
		Monster Mining bot
		Treasure
		name <Gold Nugget>
		Fudge 32000
	end

Content
	name <Computer Map>
	requires <*DUNGEON_DECOR (Ruin|Derelict|Laboratory)>
	minimap < ... .###..#1+..###. ... >
	element1 <Prefab>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifAwareness 10 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <This level seems to be in good condition.>
	inv
		STC COMPUTER-1
		use <Print 1>
		clue32 <if= V1 0 else GoBeenBefore V= 1 1 Mental ifCodeBreaking 10 else GoFail Print 4 MagicMap>
		GoBeenBefore <Print 2>
		GoFail <Print 3>
		msg1 <This old computer still seems to be working.>
		Msg2 <There's nothing useful on this computer.>
		Msg3 <You don't find anything useful on this computer.>
		Msg4 <Searching the computer, you find a map of the current level.>
	end

Content
	name <Just Decor>
	requires <*DUNGEON_DECOR ~!Ne>
	minimap <.......#...###...#.......>

Content
	name <Dungeon Shrine>
	requires <*DUNGEON_DECOR>
	element1 <Prefab>
	start <if= V%id%01 0 else %pop% V= %id%01 1 ifPCSpiritual else %pop% ifAwareness 5 else %pop% Print %id%01 Goto %pop%>
	msg%id%01 <You feel a spiritual aura in this place.>
	inv
		STC SHRINE-1
	end


%% *DUNGEON_GOAL CONTENT

Content
	name <Treasure>
	requires <*DUNGEON_GOAL !Ne ~Mine>
	element1 <Prefab>
	inv
		Treasure
		name <Aquamarine>
		Fudge 15000
	end

Content
	name <Treasure>
	requires <*DUNGEON_GOAL !Lo ~Mine>
	element1 <Prefab>
	inv
		Treasure
		name <Topaz>
		Fudge 65000
	end

Content
	name <Treasure>
	requires <*DUNGEON_GOAL !Md ~Mine>
	element1 <Prefab>
	inv
		Treasure
		name <Emerald>
		Fudge 250000
	end

Content
	name <Treasure>
	requires <*DUNGEON_GOAL !Hi ~Mine>
	element1 <Prefab>
	inv
		Treasure
		name <Ruby>
		Fudge 1250000
	end

Content
	name <Treasure>
	requires <*DUNGEON_GOAL !Ex ~Mine>
	element1 <Prefab>
	inv
		Treasure
		name <Diamond>
		Fudge 6250000
	end

Content
	requires <*DUNGEON_GOAL !Ne>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 20000
		Loot_Category <TREASURE>
		Loot_Factions <GENERAL>
	end

Content
	requires <*DUNGEON_GOAL !Lo>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 100000
		Loot_Category <TREASURE>
		Loot_Factions <GENERAL>
	end


Content
	requires <*DUNGEON_GOAL !Md>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 500000
		Loot_Category <TREASURE>
		Loot_Factions <GENERAL>
	end


Content
	requires <*DUNGEON_GOAL !Hi>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 1000000
		Loot_Category <TREASURE>
		Loot_Factions <GENERAL>
	end


Content
	requires <*DUNGEON_GOAL !Ex>
	element1 <Prefab>
	minimap <............1............>
	inv
		STC Crate
		RandomLoot 5000000
		Loot_Category <TREASURE>
		Loot_Factions <GENERAL>
	end



