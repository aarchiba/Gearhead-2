%%
%%	Mecha Arena Scenes
%%

%% All the arenas follow basic rules. If you want a championship fight to take place
%% under different rules, you must make it a custom arena scene.

%% Arena State = Tells what should happen on START, and what checks should be made
%%	for nu1 and nu2.
%%  AS_Vacant = Nothing is currently happening in the arena
%%  AS_Ready  = When the PC enters the arena, start combat, set to AS_Battle
%%  AS_Battle = Check T1 and T2; if either hit 0, set AS_Win or AS_Loss
%%  AS_Win    = PC has won the battle; manager can reset the arena
%%  AS_Lose   = PC has lost the battle; manager can reset the arena

%% Arena Wins = How many times the PC has won at this arena
%% Arena Recharge = Time when next arena battle can take place

%% Arena Threat = Difficulcy rating of the arena, usually set by manager during first chat
%% Arena Forces = A value describing how many mecha to add; set when activating ArenaState

%% Challenger ID = A single NPC who has been moved here to fight the PC
%% Challenger Home = Where to move the challenger after the fight is over

Scene 0 2
	name <the Rocket Arena>
	requires <*Arena_RocketArena>

	RockyTiles
	Vacuum
	SpaceBackdrop
	terrain <GROUND>
	type <Arena>
	special <SHOWALL SOLO ARENA NOPILLAGE>
	map <MAP_RocketArena.txt>

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5 Print 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the arena. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the arena. There's no fight going on here now.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	home <Player Start Point>
	SetEnemy 2
	ParaX 7
	ParaY 7

	Team 2
	name <Enemies>
	home <Enemy Start Point>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMecha 2 SelfArenaThreat SelfArenaForces>
	ParaX 34
	ParaY 34
end


Scene 0 2
	name <the Valhalla Arena>
	requires <*Arena_Valhalla>
	ArenaMap
	MapWidth 50
	MapHeight 50

	type <Arena>
	special <SHOWALL SOLO ARENA NOPILLAGE>
	terrain <GROUND>

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5 Print 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the arena. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the arena. There's no fight going on here now.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	SetEnemy 2
	ParaX 5
	ParaY 25

	Team 2
	name <Enemies>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMecha 2 SelfArenaThreat SelfArenaForces>
	ParaX 45
	ParaY 25

end

Scene 0 2
	name <the Steel Arena>
	requires <*Arena_SteelArena>
	%% This is the Steel Arena for Cayley Rock.
	AsteroidMap
	MapWidth 50
	MapHeight 50
	RockyTiles
	Vacuum
	SpaceBackdrop

	type <Arena>
	special <SHOWALL SOLO ARENA NOPILLAGE>
	terrain <GROUND>

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5 Print 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the arena. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the arena. There's no fight going on here now.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	SetEnemy 2
	ParaX 5
	ParaY 25

	Team 2
	name <Enemies>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMecha 2 SelfArenaThreat SelfArenaForces>
	ParaX 45
	ParaY 25

end


Scene 0 2
	name <the Privateer's Arena>
	requires <*Arena_PrivateersArena>

	SpaceMap
	Vacuum
	Microgravity
	SpaceBackdrop
	MapWidth 50
	MapHeight 50
	terrain <SPACE>
	type <Arena>
	special <SHOWALL SOLO ARENA NOPILLAGE>
	MapWidth 50
	MapHeight 50

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5 Print 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the arena. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the arena. There's no fight going on here now.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	SetEnemy 2
	ParaX 5
	ParaY 5

	Team 2
	name <Enemies>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMecha 2 SelfArenaThreat SelfArenaForces>
	ParaX 45
	ParaY 45

end

Scene 0 2
	name <#'s Quarry>
	requires <*Arena_ConstructionSite>

	BoxMap
	MapWidth 17
	MapHeight 12
	terrain <GROUND>
	special <SHOWALL SOLO ARENA NOPILLAGE>

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5 Print 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the quarry. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the quarry. There's nothing interesting here.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	SetEnemy 2
	ParaX 5
	ParaY 5

	Team 2
	name <Enemies>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMecha 2 SelfArenaThreat SelfArenaForces>
	ParaX 12
	ParaY 7
end

Scene 0 2
	name <the # Arena>
	requires <*Arena_Default>
	%% This is the default arena. For individual arena, copy this one and change the details.
	ArenaMap
	MapWidth 50
	MapHeight 50

	type <Arena>
	special <SHOWALL SOLO ARENA NOPILLAGE>
	terrain <GROUND>

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5 Print 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the arena. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the arena. There's no fight going on here now.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	SetEnemy 2
	ParaX 5
	ParaY 25

	Team 2
	name <Enemies>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMecha 2 SelfArenaThreat SelfArenaForces>
	ParaX 45
	ParaY 25

end

%% 
%%   CHARA ARENA SCENES
%%
%% Like mecha arenas, but for personal scale combat.

Scene
	name <the Gladiator Pit>
	requires <*Arena_ThelesSpinner>

	BoxMap
	MapWidth 32
	MapHeight 32
	terrain <GROUND>
	special <SHOWALL SOLO ARENA NOPILLAGE>

	start <if= SelfArenaState NAV_AS_Ready else GoCheckBattle          Alert 1   SetSelfArenaState NAV_AS_Battle SetSelfArenaRecharge if# SelfChallengerID 0 ForceChat SelfChallengerID>
	GoCheckBattle <if= SelfArenaState NAV_AS_Battle else GoBoringStart Print 2>
	GoBoringStart <Print 3 Return>

	nu1 <if= T1 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Loss  Alert 5  AddRenown -5 Goto GoEndBattle>

	nu2 <if= T2 0 Return   if= SelfArenaState NAV_AS_Battle SetSelfArenaState NAV_AS_Win   Alert 6 Print 6  AddSelfArenaWin  AddSelfArenaThreat d10  XPV 100 FacXP+ 5 1 AddRenown 1 ifNPCOK SelfChallengerID else GoEndBattle ForceChat SelfChallengerID Goto GoEndBattle>

	GoEndBattle <ifNPCOK SelfChallengerID MoveAndPacifyNPC SelfChallengerID SelfChallengerHome ClearSelfChallengerID>

	Msg1 <You enter the pit. Prepare to battle.>
	Msg2 <The arena battle rages on.>
	Msg3 <You enter the pit. There's no battle happening now.>
	Msg5 <You have lost the battle.>
	Msg6 <You have won the battle.>

sub
	Team 1
	name <Player Team>
	SetEnemy 2
	ParaX 5
	ParaY 5

	Team 2
	name <Enemies>
	type <CRIMINAL ROBOT CITY>
	SetFaction 5
	SetEnemy 1
	Deploy <if= SelfArenaState NAV_AS_Ready ifG SelfArenaForces 0 WMonster 2 SelfArenaThreat SelfArenaForces>
	ParaX 25
	ParaY 25
end

